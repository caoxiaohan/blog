<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Caoxiaohan by caoxiaohan</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Caoxiaohan</h1>
        <p>个人博客</p>

        <p class="view"><a href="https://github.com/caoxiaohan/blog">View the Project on GitHub <small>caoxiaohan/blog</small></a></p>


        <ul>
          <li><a href="https://github.com/caoxiaohan/blog/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/caoxiaohan/blog/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/caoxiaohan/blog">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a id="git-最佳实践" class="anchor" href="#git-%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>git 最佳实践.</h1>

<h1>
<a id="1-最佳实践" class="anchor" href="#1-%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>1 最佳实践</h1>

<h2>
<a id="11-管理纯文本文件" class="anchor" href="#11-%E7%AE%A1%E7%90%86%E7%BA%AF%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>1.1 管理纯文本文件</h2>

<pre><code>README.md文件，如果开头有#则作为标题在github网页中加粗显示
</code></pre>

<h2>
<a id="12-使用gitignore文件" class="anchor" href="#12-%E4%BD%BF%E7%94%A8gitignore%E6%96%87%E4%BB%B6" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>1.2 使用.gitignore文件</h2>

<p>详见《面试题92答案》第三大题第15页“如何忽略文件”</p>

<h2>
<a id="13-使用分支多建分支轻量级分支" class="anchor" href="#13-%E4%BD%BF%E7%94%A8%E5%88%86%E6%94%AF%E5%A4%9A%E5%BB%BA%E5%88%86%E6%94%AF%E8%BD%BB%E9%87%8F%E7%BA%A7%E5%88%86%E6%94%AF" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>1.3 使用分支多建分支，轻量级分支</h2>

<pre><code>    git分支情况如下，提交代码时请务必清楚应该提交到哪个分支上。git操作push代码之前请务必先做pull操作，在本地解决完冲突后再push到远端，如在push时发现如有merge和rebase的提示，不要选merge而要选rebase。
    ### 1.3.1、master分支：用于发布正式环境使用，不允许提交任何代码到该分支上。
   ###  1.3.2、hotfix分支：用于处理正式环境的紧急BUG，仅在接到BUG修改任务时，由组长从master拉分支分配任务到个人，在该分支上进行修改。
   ###  1.3.3、develop分支：用于保存所有的开发修改工作。不允许直接提交代码到该分支上。
   ###  1.3.4、release分支：用于测试阶段提供测试版本。进入测试阶段后，正式发布前，开发均在该分支上进行修改。
   ###  1.3.5、feature分支：特性分支，用于新功能开发。当一个版本需求内容确定后，开发完成进入测试前，均在指定的该feature分支上进行开发。进入测试后切换到release分支上进行开发。
</code></pre>

<h2>
<a id="14-合理使用标签命名要规范" class="anchor" href="#14-%E5%90%88%E7%90%86%E4%BD%BF%E7%94%A8%E6%A0%87%E7%AD%BE%E5%91%BD%E5%90%8D%E8%A6%81%E8%A7%84%E8%8C%83" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>1.4 合理使用标签命名要规范</h2>

<p>git tag v1.1.1：第一位大版本号，大功能发布时增加，技术负责人审核；第二位小版本号，增加小特性时增加，主开发审核；第三位BUG修复号，修复BUG用，修复人员负责。</p>

<h2>
<a id="15-规范commit-message写法-要把msg比较清晰明了的表明此次提交" class="anchor" href="#15-%E8%A7%84%E8%8C%83commit-message%E5%86%99%E6%B3%95-%E8%A6%81%E6%8A%8Amsg%E6%AF%94%E8%BE%83%E6%B8%85%E6%99%B0%E6%98%8E%E4%BA%86%E7%9A%84%E8%A1%A8%E6%98%8E%E6%AD%A4%E6%AC%A1%E6%8F%90%E4%BA%A4" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>1.5 规范commit message写法 要把msg比较清晰明了的表明此次提交</h2>

<p>git commit -m”修改了cxh.txt文件” 注释内容要清晰规范不要重复</p>

<h2>
<a id="16-规范项目编码推荐utf-8" class="anchor" href="#16-%E8%A7%84%E8%8C%83%E9%A1%B9%E7%9B%AE%E7%BC%96%E7%A0%81%E6%8E%A8%E8%8D%90utf-8" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>1.6 规范项目编码(推荐utf-8)</h2>

<p>将开发工具的编码设置为uft-8编码，可以识别汉字。</p>

<h2>
<a id="17尽量不要去改写历史" class="anchor" href="#17%E5%B0%BD%E9%87%8F%E4%B8%8D%E8%A6%81%E5%8E%BB%E6%94%B9%E5%86%99%E5%8E%86%E5%8F%B2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>1.7尽量不要去改写历史</h2>

<p>我们可以进行历史版本回退撤销历史区修改。如果仅仅撤销自己的手误修改无可厚非，但不要强制推送覆盖了别人的修改。
   比如团队已经完成了注册、登录、好友模块开发，你回退到注册阶段，并强制推送到远程仓库，使得仓库里只有注册模块。</p>

<h2>
<a id="18-尽量保持仓库较新-减少冲突的可能性" class="anchor" href="#18-%E5%B0%BD%E9%87%8F%E4%BF%9D%E6%8C%81%E4%BB%93%E5%BA%93%E8%BE%83%E6%96%B0-%E5%87%8F%E5%B0%91%E5%86%B2%E7%AA%81%E7%9A%84%E5%8F%AF%E8%83%BD%E6%80%A7" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>1.8 尽量保持仓库较新 减少冲突的可能性</h2>

<p>git push origin master 先从远程仓库拉取最新代码，再提交修改推送到远程仓库</p>

<h2>
<a id="19-按照代码完成度提交" class="anchor" href="#19-%E6%8C%89%E7%85%A7%E4%BB%A3%E7%A0%81%E5%AE%8C%E6%88%90%E5%BA%A6%E6%8F%90%E4%BA%A4" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>1.9 按照代码完成度提交</h2>

<p>不要边修改变提交，不要过分频繁地提交。
   集中修改后再一次性提交。
   比如
   echo 用户名验证 &gt;&gt; regedit.html 
   echo 邮箱验证 &gt;&gt; regedit.html
   echo 手机验证 &gt;&gt; regedit.html
   git add regedit.html //完成注册时字符合法性验证
   echo 头像验证 &gt;&gt; regedit.html
   git add regedit.html //完成注册时头像合法性验证
   git commit -m”完成注册模块” //完成注册模块第一次提交</p>

<p># 2 不推荐做的</p>

<h2>
<a id="21-提交代码的目标产物比编译结果程序日志文件等" class="anchor" href="#21-%E6%8F%90%E4%BA%A4%E4%BB%A3%E7%A0%81%E7%9A%84%E7%9B%AE%E6%A0%87%E4%BA%A7%E7%89%A9%E6%AF%94%E7%BC%96%E8%AF%91%E7%BB%93%E6%9E%9C%E7%A8%8B%E5%BA%8F%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6%E7%AD%89" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>2.1 提交代码的目标产物，比编译结果，程序日志文件等</h2>

<p>详见《面试题92答案》第三大题第15页“如何忽略文件”</p>

<h2>
<a id="22-提交配置文件每个人都不一样" class="anchor" href="#22-%E6%8F%90%E4%BA%A4%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E6%AF%8F%E4%B8%AA%E4%BA%BA%E9%83%BD%E4%B8%8D%E4%B8%80%E6%A0%B7" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>2.2 提交配置文件，每个人都不一样</h2>

<p>不要提交配置文件,.config字样的文件。</p>

<h2>
<a id="23-提交大型二进制文件数据图片" class="anchor" href="#23-%E6%8F%90%E4%BA%A4%E5%A4%A7%E5%9E%8B%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6%E6%95%B0%E6%8D%AE%E5%9B%BE%E7%89%87" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>2.3 提交大型二进制文件，数据图片</h2>

<p>不要提交非代码类大文件，大文件会造成pull拉取远程仓库到本地时耗费时间。</p>

<h2>
<a id="24-使用git做文件备份工具可以用网盘" class="anchor" href="#24-%E4%BD%BF%E7%94%A8git%E5%81%9A%E6%96%87%E4%BB%B6%E5%A4%87%E4%BB%BD%E5%B7%A5%E5%85%B7%E5%8F%AF%E4%BB%A5%E7%94%A8%E7%BD%91%E7%9B%98" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>2.4 使用GIT做文件备份工具（可以用网盘）</h2>

<p>Github免费版是公开的，任何人都能看见，不要把私人文件放到github上备份。</p>

<h2>
<a id="25-使用git-push---force" class="anchor" href="#25-%E4%BD%BF%E7%94%A8git-push---force" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>2.5 使用git push --force</h2>

<p>强制删除文件和强制用本地仓库覆盖远程仓库使用git push --force，但是团地开发中不要这么做，这样会强制删除覆盖别人的劳动成功。</p>

<h2>
<a id="26-使用git-reset---hard-commitid-都会导致丢失历史" class="anchor" href="#26-%E4%BD%BF%E7%94%A8git-reset---hard-commitid-%E9%83%BD%E4%BC%9A%E5%AF%BC%E8%87%B4%E4%B8%A2%E5%A4%B1%E5%8E%86%E5%8F%B2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>2.6 使用git reset --hard {commitId} 都会导致丢失历史</h2>

<pre><code>   ### 2.6.1 Soft，只回退历史区
       git reset --soft {commitId}参数只告诉Git将其他的commit重置到HEAD，就仅此而已。index和working copy中的文件都不改变。
   ### 2.6.2 Mixed (default)，回退历史区和工作区
       git reset --mixed {commitId} 改变HEAD和index，指向那个你要reset到的commit上。而working copy文件不被改变。当然会显示工作目录下有修改，但没有缓存到index中。
   ### 2.6.3 Hard 回退三个区
       git reset --hard {commitId}同时改变 HEAD &amp; index &amp; working copy到你要reset到的那个commit上。这个参数很危险，执行了它，你的本地修改可能就丢失了。
  提示：可以用git reflog命令查看commit ID，恢复到reset之前的状态。
  补充相关术语：
  HEAD：历史区，是当前分支版本顶端的别名，也就是在当前分支你最近的一个提交
  Index：暂存区，index也被称为staging area，是指一整套即将被下一个提交的文件集合。他也是将成为HEAD的父亲的那个commit
</code></pre>

<p>Working Copy：工作区，working copy代表你正在工作的那个文件集</p>

<h2>
<a id="27-遇到冲突时强制选择一方合并" class="anchor" href="#27-%E9%81%87%E5%88%B0%E5%86%B2%E7%AA%81%E6%97%B6%E5%BC%BA%E5%88%B6%E9%80%89%E6%8B%A9%E4%B8%80%E6%96%B9%E5%90%88%E5%B9%B6" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>2.7 遇到冲突时强制选择一方合并</h2>

<p>团队协作时，两个人修改了同一个文件，推送到远程仓库时会提示冲突。
  我们即不能强制推送自己的修改，这样会覆盖远程仓库。
  合并时也不能删除别人的修改后再提交，而应该合并后一起推送。
  详见《面试题90答案》第八大题第24页如何解决冲突
 #  3 git 使用规范
   详见 《Git源代码管理规范》</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/caoxiaohan">caoxiaohan</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>
